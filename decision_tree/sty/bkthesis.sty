% this package is designed by: thanhhungqb@gmail.com
% more infor mation and update: https://github.com/HungTVo/thesis-template
%
% this package also use code from: 
%	http://tex.stackexchange.com/questions/51483/how-to-write-abstract-and-acknowledgement-in-book-format
% thank for Fredrik M. Kirkemo to gave a useful code

\ProvidesPackage{bkthesis}

\RequirePackage{graphicx}
\RequirePackage{vietnam}
\RequirePackage{geometry}

\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{indentfirst}

% \usepackage{geometry}
\def\thesislayout{	% A4: 210 × 297
	\geometry{
		a4paper,
% 		total={155mm,237mm},  % fix over page
		left=35mm,
		top=30mm,
		bottom=30mm,
		right=20mm,
		heightrounded,% better use it
	}
}

\newcommand{\@sdeptname}{KHOA KHOA HỌC \& KỸ THUẬT MÁY TÍNH}
\newcommand{\csdeptname}[1]{\renewcommand{\@sdeptname}{#1}}

\newcommand{\@sdeptcode}{MÃ NGÀNH: ...}
\newcommand{\csdeptcode}[1]{\renewcommand{\@sdeptcode}{#1}}

\newcommand{\@tname}{TÊN ĐỀ TÀI}
\newcommand{\ctname}[1]{\renewcommand{\@tname}{#1}}

\newcommand{\@stuname}{SVTH 1: Nguyễn Văn An (5...)}
\newcommand{\cstuname}[1]{\renewcommand{\@stuname}{#1}}

\newcommand{\@sCouncil}{Khoa học máy tính 1}
\newcommand{\csCouncil}[1]{\renewcommand{\@sCouncil}{#1}}

\newcommand{\@sReviewer}{TS. A} % tên người phản biện
\newcommand{\csReviewer}[1]{\renewcommand{\@sReviewer}{#1}}
	
\newcommand{\@sSupervise}{TS. Nguyễn Văn A} % tên người hd
\newcommand{\csSupervise}[1]{\renewcommand{\@sSupervise}{#1}}

\newcommand{\@ttime}{\today}
\newcommand{\cttime}[1]{\renewcommand{\@ttime}{#1}}

\newcommand{\@rname}{TÊN TÀI LIỆU} % report name, luận văn, thực tập...
\newcommand{\crname}[1]{\renewcommand{\@rname}{#1}}

\def\coverpage {

    \pagestyle{empty}
    % \setlength{\oddsidemargin}{0cm}
    % \addtolength{\voffset}{-2.5cm}
    % \addtolength{\textwidth}{-2cm}
    \setlength{\parindent}{0pt}
    
    % \fbox{
    \begin{minipage}[b][23.7cm][t]{15.5cm}
        \begin{tikzpicture}[remember picture, overlay]
            \draw [line width=4pt]
            ($ (current page.north west) + (3.5cm,-3.0cm) $)
            rectangle
            ($ (current page.south east) + (-2.0cm,3.0cm) $);
            
            \node[inner sep=0pt] (corner1) at (2.15cm,-2cm)
            {\includegraphics[width=.25\textwidth]{img/corner1.png}};
            \node[inner sep=0pt] (corner2) at (2.15cm,-21.7cm) 
            {\includegraphics[width=.25\textwidth]{img/corner2.png}};
            \node[inner sep=0pt] (corner3) at (13.3cm,-21.7cm) 
            {\includegraphics[width=.25\textwidth]{img/corner3.png}};
            \node[inner sep=0pt] (corner4) at (13.3cm,-2cm) 
            {\includegraphics[width=.25\textwidth]{img/corner4.png}};
            \draw[line width=1.5pt] (0.35cm,-3.65cm) -- (0.35cm,-20.05cm);
            \draw[line width=1.5pt] (3.9cm,-23.35cm) -- (11.55cm,-23.35cm);
            \draw[line width=1.5pt] (15.1cm,-3.65cm) -- (15.1cm,-20.05cm);
            \draw[line width=1.5pt] (3.9cm,-0.35cm) -- (11.55cm,-0.35cm);
        \end{tikzpicture}
    
        \begin{center}
        \vspace{0.25cm}
        {\fontsize{12}{1}\selectfont {Đại học Bách Khoa Tp.HCM} }\\[0.25cm]
        {\fontsize{12}{1}\selectfont {\@sCouncil }}\\[1cm]
        
        \includegraphics[scale=0.3]{img/LogoBK.png}\\[1cm]
        
        {\fontsize{16}{1}\selectfont \textbf{\parbox[c][3cm]{14cm}{\centering \@tname}}}\\
        {\fontsize{16}{1}\selectfont {\@rname }}\\[1.5cm]
        
        {\fontsize{12}{1}\selectfont \textbf{\@sSupervise }}\\[2cm]
        
        \end{center}
    
        {\fontsize{12}{1}\selectfont 
        \hspace{10cm}\parbox[t][4cm]{10cm} {
            	Sinh viên thực hiện: \\[3pt]
            	\parbox[t][1.5cm]{10cm}{\@stuname}
            }
        }
        
        % \vspace{1cm}
        \begin{center}
        {\fontsize{12}{1}\selectfont Tp.HCM, \@ttime }
    
        \end{center}

    \end{minipage}
}

\def\makeprintversion{}

% Declaration
\makeatletter
\newenvironment{declaration}{
	\small
	\begin{center}
	  {\bfseries Lời cam đoan\vspace{-.5em}\vspace{\z@}}
	\end{center}
	\quotation
  }{}
\makeatother	  

\makeatletter
\newenvironment{acknowledgments}{
	\titlepage \null\vfil
	\small
	\begin{center}
	  {\bfseries Lời cảm ơn / Lời ngỏ\vspace{-.5em}\vspace{\z@}}
	\end{center}
	\quotation
  }{}
\makeatother

%% Remember to load babel before loading this package or define the command \abstractname!
\makeatletter
\newenvironment{abstract}{
  \titlepage
  \null\vfil
  \@beginparpenalty\@lowpenalty
  \begin{center}
	\bfseries Tóm tắt nội dung
	\@endparpenalty\@M
  \end{center}}
 {\par\vfil\null\endtitlepage}
\makeatother

% \renewcommand\lstlistingname{Algorithm}
% \renewcommand\lstlistlistingname{Algorithms}
